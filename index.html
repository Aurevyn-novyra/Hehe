<!DOCTYPE html>

<html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <title>For You</title> <style> :root { --bg-color: #050510; --accent-color: #ffcccc; --text-color: #ffffff; --glow: 0 0 15px rgba(255, 204, 204, 0.6); --font-main: 'Georgia', 'Times New Roman', serif; }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
    }

    body {
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: var(--font-main);
        overflow: hidden;
        height: 100vh;
        width: 100vw;
        position: relative;
    }

    /* Ambient Purple Fog */
    body::before {
        content: '';
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: radial-gradient(circle at 50% 50%, rgba(76, 29, 149, 0.15), transparent 80%);
        pointer-events: none;
        z-index: 0;
    }

    canvas {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
    }

    #ui-layer {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: 10;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        pointer-events: none; /* Let clicks pass to canvas unless on elements */
    }

    .scene-container {
        pointer-events: auto;
        opacity: 0;
        transition: opacity 1s ease-in-out;
        display: none;
        width: 90%;
        max-width: 600px;
    }

    .scene-container.active {
        opacity: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h1, h2, p {
        text-shadow: var(--glow);
        margin-bottom: 2rem;
        line-height: 1.6;
    }

    h1 { font-size: 2rem; letter-spacing: 2px; }
    p { font-size: 1.2rem; }

    .btn {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.4);
        color: white;
        padding: 15px 40px;
        font-family: var(--font-main);
        font-size: 1.1rem;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        backdrop-filter: blur(5px);
        text-shadow: 0 0 5px white;
        box-shadow: 0 0 10px rgba(255,255,255,0.1);
        margin-top: 20px;
        pointer-events: auto;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .btn:hover {
        background: rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 20px rgba(255,255,255,0.4);
        transform: scale(1.05);
    }

    .btn:active {
        transform: scale(0.95);
    }

    /* Intro Pulse */
    .pulse { animation: pulseAnim 2s infinite; }
    @keyframes pulseAnim {
        0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4); }
        70% { box-shadow: 0 0 0 20px rgba(255, 255, 255, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
    }

    /* Typing Cursor */
    .typing::after {
        content: '|';
        animation: blink 1s step-end infinite;
    }
    @keyframes blink { 50% { opacity: 0; } }

    /* Proposal Buttons */
    .proposal-btns {
        display: flex;
        gap: 20px;
        margin-top: 30px;
    }

    #btn-no {
        position: relative;
        transition: all 0.1s linear; 
    }

    /* Fallback for safety */
    #fallback-timer {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.8rem;
        opacity: 0.3;
    }

</style>
</head> <body>

<canvas id="canvas-bg"></canvas>
<canvas id="canvas-fg"></canvas>

<div id="ui-layer">
    
    <div id="scene-1" class="scene-container active">
        <h1>This isnâ€™t a normal websiteâ€¦</h1>
        <button id="btn-start" class="btn pulse">Tap Me</button>
    </div>

    <div id="scene-2" class="scene-container">
        </div>

    <div id="scene-3" class="scene-container">
        <div id="poem-text" style="min-height: 100px; margin-bottom: 20px;"></div>
        <button id="btn-poem-next" class="btn">Continue</button>
    </div>

    <div id="scene-4" class="scene-container">
        <button id="btn-bouquet" class="btn">One Last Thingâ€¦</button>
    </div>

    <div id="scene-5" class="scene-container"></div>

    <div id="scene-6" class="scene-container">
        <h1 id="proposal-text">Will you be my universe? ðŸ’«</h1>
        <div class="proposal-btns" id="proposal-options">
            <button id="btn-yes" class="btn">YES</button>
            <button id="btn-no" class="btn">NO</button>
        </div>
    </div>

</div>
<script> /**

SENIOR ENGINEER NOTES:

Architecture: Single Loop Game Cycle (Update -> Draw)

State Management: Scene Index + internal flags

Audio: Singleton AudioContext with synth generators

Visuals: Canvas 2D API with procedural geometry */

// --- AUDIO SYSTEM (Web Audio API) --- const AudioSys = { ctx: null, masterGain: null, started: false,

init: function() {
    if (this.started) return;
    try {
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        this.ctx = new AudioContext();
        this.masterGain = this.ctx.createGain();
        this.masterGain.gain.value = 0.4;
        this.masterGain.connect(this.ctx.destination);
        this.started = true;
        this.startAmbience();
        this.startHeartbeat();
    } catch(e) { console.error(&quot;Audio Init Failed&quot;, e); }
},

createOsc: function(type, freq, time, dur, vol) {
    if (!this.ctx) return;
    const osc = this.ctx.createOscillator();
    const gain = this.ctx.createGain();
    osc.type = type;
    osc.frequency.setValueAtTime(freq, time);
    gain.gain.setValueAtTime(0, time);
    gain.gain.linearRampToValueAtTime(vol, time + 0.05);
    gain.gain.exponentialRampToValueAtTime(0.001, time + dur);
    osc.connect(gain);
    gain.connect(this.masterGain);
    osc.start(time);
    osc.stop(time + dur);
},

playChime: function() {
    if (!this.ctx) return;
    const now = this.ctx.currentTime;
    const notes = [523.25, 659.25, 783.99, 1046.50]; // C Major
    notes.forEach((n, i) =&gt; {
        this.createOsc(&#39;sine&#39;, n, now + (i * 0.1), 3.0, 0.3);
        this.createOsc(&#39;triangle&#39;, n, now + (i * 0.1), 3.0, 0.1);
    });
},

playWhoosh: function() {
    if (!this.ctx) return;
    const t = this.ctx.currentTime;
    const bufferSize = this.ctx.sampleRate * 1.5;
    const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i &lt; bufferSize; i++) data[i] = Math.random() * 2 - 1;

    const noise = this.ctx.createBufferSource();
    noise.buffer = buffer;
    const filter = this.ctx.createBiquadFilter();
    filter.type = &#39;lowpass&#39;;
    filter.frequency.setValueAtTime(200, t);
    filter.frequency.linearRampToValueAtTime(800, t + 0.5);
    filter.frequency.linearRampToValueAtTime(100, t + 1.2);

    const gain = this.ctx.createGain();
    gain.gain.setValueAtTime(0, t);
    gain.gain.linearRampToValueAtTime(0.5, t + 0.5);
    gain.gain.linearRampToValueAtTime(0, t + 1.2);

    noise.connect(filter);
    filter.connect(this.masterGain);
    noise.start(t);
},

startAmbience: function() {
    // Pink noise wind loop
    const bufferSize = 2 * this.ctx.sampleRate;
    const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
    const output = buffer.getChannelData(0);
    for (let i = 0; i &lt; bufferSize; i++) {
        const white = Math.random() * 2 - 1;
        output[i] = (lastOut + (0.02 * white)) / 1.02;
        lastOut = output[i];
        output[i] *= 3.5; 
    }
    let lastOut = 0;
    const noise = this.ctx.createBufferSource();
    noise.buffer = buffer;
    noise.loop = true;
    
    const filter = this.ctx.createBiquadFilter();
    filter.type = &#39;bandpass&#39;;
    filter.frequency.value = 400;

    // LFO to modulate wind filter
    const lfo = this.ctx.createOscillator();
    lfo.frequency.value = 0.1;
    const lfoGain = this.ctx.createGain();
    lfoGain.gain.value = 200;
    lfo.connect(lfoGain);
    lfoGain.connect(filter.frequency);

    const mainGain = this.ctx.createGain();
    mainGain.gain.value = 0.05;

    noise.connect(filter);
    filter.connect(mainGain);
    mainGain.connect(this.masterGain);
    noise.start();
    lfo.start();
},

startHeartbeat: function() {
    const beat = () =&gt; {
        if(!this.started) return;
        const t = this.ctx.currentTime;
        const osc = this.ctx.createOscillator();
        const g = this.ctx.createGain();
        osc.frequency.value = 50;
        g.gain.setValueAtTime(0, t);
        g.gain.linearRampToValueAtTime(0.2, t + 0.05);
        g.gain.exponentialRampToValueAtTime(0.001, t + 0.4);
        osc.connect(g);
        g.connect(this.masterGain);
        osc.start(t);
        osc.stop(t+0.5);
        setTimeout(beat, 1500); // 40 BPM
    };
    beat();
}
};

// --- GRAPHICS CONSTANTS & UTILS --- const canvasBg = document.getElementById('canvas-bg'); const ctxBg = canvasBg.getContext('2d'); const canvasFg = document.getElementById('canvas-fg'); const ctxFg = canvasFg.getContext('2d'); let W, H;

function resize() { W = window.innerWidth; H = window.innerHeight; canvasBg.width = W; canvasBg.height = H; canvasFg.width = W; canvasFg.height = H; } window.addEventListener('resize', resize); resize();

function rand(min, max) { return Math.random() * (max - min) + min; }

// --- ENTITIES ---

// Stars const stars = []; for(let i=0; i<150; i++) { stars.push({ x: Math.random() * window.innerWidth, y: Math.random() * window.innerHeight, size: Math.random() * 2, blink: Math.random() * 0.05, alpha: Math.random() }); }

// Tulips class Tulip { constructor(isBouquetParticle = false) { this.x = rand(W0.1, W0.9); this.y = rand(H0.6, H0.95); // Depth // Perspective scaling this.scale = (this.y / H) * 0.8 + 0.2; this.height = rand(100, 200) * this.scale; this.curve = rand(-20, 20); this.phase = rand(0, Math.PI * 2); this.color = hsl(${rand(340, 360)}, 80%, 60%);

    // Bouquet Props
    this.bouquetTargetX = 0;
    this.bouquetTargetY = 0;
    this.isBouquet = false;
    
    // Animation
    this.currentX = this.x;
    this.currentY = this.y;
    this.bloom = 0;
}

update(time, windStrength) {
    // Wind sway
    const sway = Math.sin(time * 2 + this.phase) * windStrength * this.scale;
    
    if (!this.isBouquet) {
        this.currentX = this.x;
        this.currentY = this.y;
        this.controlX = this.x + this.curve + sway;
        this.headX = this.x + this.curve * 2 + sway * 3;
    } else {
        // Lerp to bouquet position
        this.currentX += (this.bouquetTargetX - this.currentX) * 0.05;
        this.currentY += (this.bouquetTargetY - this.currentY) * 0.05;
        this.headX = this.currentX; // Straighten in bouquet
        this.controlX = this.currentX;
    }
}

draw(ctx) {
    if (this.bloom &lt; 0.1) return; // Growing

    ctx.save();
    
    // Shadow
    if(!this.isBouquet) {
        ctx.fillStyle = &#39;rgba(0,0,0,0.3)&#39;;
        ctx.beginPath();
        ctx.ellipse(this.x, this.y, 10*this.scale, 3*this.scale, 0, 0, Math.PI*2);
        ctx.fill();
    }

    // Stem
    ctx.strokeStyle = &#39;#1a472a&#39;;
    ctx.lineWidth = 3 * this.scale;
    ctx.beginPath();
    ctx.moveTo(this.currentX, this.currentY);
    // Bezier for natural curve
    ctx.quadraticCurveTo(this.controlX, this.currentY - this.height/2, this.headX, this.currentY - this.height);
    ctx.stroke();

    // Flower Head
    ctx.translate(this.headX, this.currentY - this.height);
    ctx.scale(this.scale * this.bloom, this.scale * this.bloom);
    
    // Petals (3 layers)
    // Back
    ctx.fillStyle = &#39;#800020&#39;;
    ctx.beginPath();
    ctx.ellipse(0, -10, 15, 25, 0, 0, Math.PI*2);
    ctx.fill();
    
    // Side
    const grad = ctx.createRadialGradient(-5, -5, 2, 0, 0, 30);
    grad.addColorStop(0, &#39;#ff4d6d&#39;);
    grad.addColorStop(1, &#39;#800020&#39;);
    ctx.fillStyle = grad;
    
    ctx.beginPath();
    ctx.ellipse(-8, -5, 12, 22, -0.2, 0, Math.PI*2);
    ctx.fill();
    ctx.beginPath();
    ctx.ellipse(8, -5, 12, 22, 0.2, 0, Math.PI*2);
    ctx.fill();

    // Front Center
    ctx.fillStyle = &#39;#ffb3c1&#39;;
    ctx.beginPath();
    ctx.ellipse(0, 0, 10, 20, 0, 0, Math.PI*2);
    ctx.fill();

    ctx.restore();
}
}

let tulips = []; let particles = []; // Disintegration/Petal rain

// --- SCENE MANAGEMENT --- const Scenes = { INTRO: 1, TULIPS: 2, POEM: 3, BUILDUP: 4, BOUQUET: 5, PROPOSAL: 6, END: 7 };

let currentScene = Scenes.INTRO; let time = 0;

// Poem Data const POEM_LINES = [ "Sometimes I think I fell for you", "before I even learned how falling works.", "My words trip over themselves..", "And as I said earlier.. you're like a Luminous Singularity", "which's parallel yet coincidently intersecting...", "Like constellations shuffled in a hurry...", "Orion losing its belt..", "Cassiopeia sitting upside down..", "and whole sky is asking", "&quot;Why is she the only one shining this bright?&quot;", "And I swear ...", "every time i try to explain what you mean to me..", "I fumble..I'm scared...", "and my heart chooses Your tulips instead of sentences", "petals arranged in a wrong order.. yet beautiful..", "Colors mixing where they shouldn't yet somehow looking eternal..", "and it's strange how You make the universe", "feel like a misprinted bouquet..", "Galaxies scribbled over with your name..", "planets orbiting a little too close..", "a pull like the Black hole..", "Like they too forgot their distance.", "And me? I'm jst a boy holding a bouquet", "thinking maybe if I say it wrong enough times", "you Might hear the truth hidden between the mistakes", "That in every star's cold shimmer and every tulip's quite softness", "i keep finding you", "not perfectly..", "not clearly", "but completely..." ]; let poemIndex = 0;

// DOM Elements const uiScenes = { 1: document.getElementById('scene-1'), 2: document.getElementById('scene-2'), 3: document.getElementById('scene-3'), 4: document.getElementById('scene-4'), 5: document.getElementById('scene-5'), 6: document.getElementById('scene-6') };

// --- LOGIC ---

// Init Tulips for(let i=0; i<60; i++) tulips.push(new Tulip()); // Sort by Y for depth rendering tulips.sort((a,b) => a.y - b.y);

// Transition Helper function switchScene(id) { Object.values(uiScenes).forEach(el => el.classList.remove('active')); if(uiScenes[id]) uiScenes[id].classList.add('active'); currentScene = id; }

// Scene 1: Start Button document.getElementById('btn-start').addEventListener('click', (e) => { AudioSys.init(); // Start Audio AudioSys.playWhoosh();

// Disintegrate button
const rect = e.target.getBoundingClientRect();
for(let i=0; i&lt;30; i++) {
    particles.push({
        x: rect.left + rect.width/2,
        y: rect.top + rect.height/2,
        vx: (Math.random()-0.5)*10,
        vy: (Math.random()-0.5)*10,
        life: 1.0,
        color: &#39;white&#39;
    });
}

switchScene(Scenes.TULIPS);

// Zoom/Bloom Effect
let bloomProgress = 0;
const bloomInt = setInterval(() =&gt; {
    bloomProgress += 0.05;
    tulips.forEach(t =&gt; t.bloom = Math.min(1, bloomProgress));
    if(bloomProgress &gt;= 1) {
        clearInterval(bloomInt);
        setTimeout(() =&gt; {
            switchScene(Scenes.POEM);
            renderPoemChunk();
        }, 2000);
    }
}, 50);
});

// Scene 3: Poem Logic const poemContainer = document.getElementById('poem-text'); const btnPoemNext = document.getElementById('btn-poem-next');

function renderPoemChunk() { poemContainer.innerHTML = ''; btnPoemNext.style.display = 'none';

if (poemIndex &gt;= POEM_LINES.length) {
    switchScene(Scenes.BUILDUP);
    return;
}

// Get next 2 lines
const lines = [POEM_LINES[poemIndex], POEM_LINES[poemIndex+1] || &quot;&quot;];

// Typewriter effect
let lineIdx = 0;
let charIdx = 0;
const p = document.createElement(&#39;p&#39;);
p.className = &#39;typing&#39;;
poemContainer.appendChild(p);

function type() {
    if (lineIdx &gt;= lines.length) {
        p.classList.remove(&#39;typing&#39;);
        btnPoemNext.style.display = &#39;inline-block&#39;;
        poemIndex += 2;
        return;
    }

    const currentLine = lines[lineIdx];
    if (charIdx &lt; currentLine.length) {
        p.textContent += currentLine[charIdx];
        charIdx++;
        setTimeout(type, 30); // Typing speed
    } else {
        p.textContent += &#39;\n&#39;; // New line
        lineIdx++;
        charIdx = 0;
        setTimeout(type, 300); // Pause between lines
    }
}
type();
}

btnPoemNext.addEventListener('click', () => { AudioSys.playWhoosh(); renderPoemChunk(); });

// Scene 4 -> 5: Bouquet document.getElementById('btn-bouquet').addEventListener('click', () => { AudioSys.playWhoosh(); switchScene(Scenes.BOUQUET);

// Animate Tulips to center
tulips.forEach((t, i) =&gt; {
    t.isBouquet = true;
    // Spiral arrangement
    const angle = i * 0.3;
    const radius = i * 2;
    t.bouquetTargetX = W/2 + Math.cos(angle)*radius;
    t.bouquetTargetY = H/2 + Math.sin(angle)*radius + 100;
});

// Wait for animation then show proposal
setTimeout(() =&gt; {
    switchScene(Scenes.PROPOSAL);
}, 3000);
});

// Scene 6: Proposal Buttons const btnNo = document.getElementById('btn-no'); const btnYes = document.getElementById('btn-yes');

// Dodge Logic function dodge(e) { const maxX = window.innerWidth - 100; const maxY = window.innerHeight - 100; btnNo.style.position = 'fixed'; btnNo.style.left = Math.random() * maxX + 'px'; btnNo.style.top = Math.random() * maxY + 'px'; } btnNo.addEventListener('mouseover', dodge); btnNo.addEventListener('touchstart', dodge);

// Yes Logic btnYes.addEventListener('click', () => { AudioSys.playChime(); document.getElementById('proposal-text').innerHTML = "You were always my favorite galaxy ðŸŒ™ðŸŒ·"; document.getElementById('proposal-options').style.display = 'none';

// Petal Rain
for(let i=0; i&lt;100; i++) {
    particles.push({
        x: Math.random() * W,
        y: -Math.random() * H,
        vx: Math.random() * 2 - 1,
        vy: Math.random() * 3 + 2,
        life: 500, // Long life
        color: &#39;#ff4d6d&#39;,
        type: &#39;petal&#39;
    });
}
currentScene = Scenes.END;
});

// --- MAIN LOOP --- function drawBg() { ctxBg.fillStyle = '#050510'; ctxBg.fillRect(0,0,W,H);

// Stars
ctxBg.fillStyle = &#39;white&#39;;
stars.forEach(s =&gt; {
    s.alpha += s.blink;
    if(s.alpha &lt;= 0 || s.alpha &gt;= 1) s.blink *= -1;
    ctxBg.globalAlpha = s.alpha;
    ctxBg.beginPath();
    ctxBg.arc(s.x, s.y, s.size, 0, Math.PI*2);
    ctxBg.fill();
});
ctxBg.globalAlpha = 1;
}

function drawFg() { ctxFg.clearRect(0,0,W,H); time += 0.01;

// Tulips
if (currentScene &gt;= Scenes.TULIPS) {
    // Re-sort for depth in bouquet mode? No, simplified
    tulips.forEach(t =&gt; {
        t.update(time, 15);
        t.draw(ctxFg);
    });
    
    // Ribbon (only in Bouquet mode+)
    if (currentScene &gt;= Scenes.BOUQUET) {
        ctxFg.strokeStyle = &#39;#ffcccc&#39;;
        ctxFg.lineWidth = 5;
        ctxFg.beginPath();
        const cx = W/2, cy = H/2 + 150;
        ctxFg.moveTo(cx-50, cy);
        ctxFg.bezierCurveTo(cx, cy+20, cx, cy-20, cx+50, cy);
        ctxFg.stroke();
    }
}

// Particles
for(let i=particles.length-1; i&gt;=0; i--) {
    let p = particles[i];
    p.x += p.vx;
    p.y += p.vy;
    p.life -= 0.02;
    
    ctxFg.fillStyle = p.color;
    
    if (p.type === &#39;petal&#39;) {
        // Swaying falling petal
        p.x += Math.sin(time*5 + i);
        ctxFg.beginPath();
        ctxFg.ellipse(p.x, p.y, 5, 8, time+i, 0, Math.PI*2);
        ctxFg.fill();
        if (p.y &gt; H) p.y = -10; // Loop rain
    } else {
        // Explosion particle
        ctxFg.globalAlpha = p.life;
        ctxFg.fillRect(p.x, p.y, 3, 3);
        ctxFg.globalAlpha = 1;
        if(p.life &lt;= 0) particles.splice(i, 1);
    }
}
}

function loop() { try { drawBg(); drawFg(); requestAnimationFrame(loop); } catch(e) { console.error("Render Loop Error", e); } }

// Start loop();

// Auto Advance Safety (User might get stuck) let idleTime = 0; document.addEventListener('click', () => idleTime = 0); setInterval(() => { idleTime++; if (idleTime > 15) { // 15 seconds no input const btns = document.querySelectorAll('button'); // Flash buttons to draw attention btns.forEach(b => { if(b.offsetParent !== null) { // If visible b.style.transform = 'scale(1.2)'; setTimeout(() => b.style.transform = 'scale(1)', 200); } }); idleTime = 0; } }, 1000);

</script>

</body> </html>
