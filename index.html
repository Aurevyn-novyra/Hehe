<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Universe for You</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            font-family: Georgia, serif;
            background: #000;
            position: relative;
        }

        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
        }

        .scene.active {
            opacity: 1;
            pointer-events: all;
        }

        #starCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .cosmic-text {
            font-size: clamp(24px, 5vw, 48px);
            color: #fff;
            text-align: center;
            padding: 20px;
            text-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(147,112,219,0.3);
            letter-spacing: 2px;
            animation: textGlow 3s ease-in-out infinite;
            z-index: 10;
        }

        @keyframes textGlow {
            0%, 100% { text-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(147,112,219,0.3); }
            50% { text-shadow: 0 0 30px rgba(255,255,255,0.8), 0 0 60px rgba(147,112,219,0.6); }
        }

        .glow-button {
            padding: 20px 50px;
            font-size: clamp(18px, 4vw, 28px);
            color: #fff;
            background: linear-gradient(135deg, rgba(147,112,219,0.3), rgba(138,43,226,0.3));
            border: 2px solid rgba(147,112,219,0.8);
            border-radius: 50px;
            cursor: pointer;
            margin-top: 40px;
            position: relative;
            overflow: hidden;
            z-index: 10;
            font-family: Georgia, serif;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(147,112,219,0.5);
            animation: buttonPulse 2s ease-in-out infinite;
        }

        @keyframes buttonPulse {
            0%, 100% { box-shadow: 0 0 30px rgba(147,112,219,0.5); transform: scale(1); }
            50% { box-shadow: 0 0 50px rgba(147,112,219,0.8); transform: scale(1.05); }
        }

        .glow-button:hover {
            background: linear-gradient(135deg, rgba(147,112,219,0.5), rgba(138,43,226,0.5));
            transform: scale(1.1);
        }

        .glow-button:active {
            transform: scale(0.95);
        }

        #tulipCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .poem-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            z-index: 100;
            pointer-events: none;
        }

        .poem-line {
            font-size: clamp(18px, 3.5vw, 32px);
            color: #fff;
            text-align: center;
            margin: 15px 0;
            opacity: 0;
            text-shadow: 0 0 10px rgba(255,255,255,0.3), 0 2px 4px rgba(0,0,0,0.5);
            letter-spacing: 1px;
            line-height: 1.6;
            font-style: italic;
        }

        .poem-line.visible {
            animation: typeIn 1.5s ease forwards;
        }

        @keyframes typeIn {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .continue-button {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 18px 45px;
            font-size: clamp(16px, 3vw, 24px);
            color: #fff;
            background: linear-gradient(135deg, rgba(255,105,180,0.4), rgba(255,182,193,0.4));
            border: 2px solid rgba(255,105,180,0.8);
            border-radius: 50px;
            cursor: pointer;
            z-index: 101;
            font-family: Georgia, serif;
            letter-spacing: 1px;
            box-shadow: 0 0 30px rgba(255,105,180,0.5);
            transition: all 0.3s ease;
        }

        .continue-button:hover {
            background: linear-gradient(135deg, rgba(255,105,180,0.6), rgba(255,182,193,0.6));
            transform: translateX(-50%) scale(1.1);
        }

        .bouquet-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 400px;
            z-index: 50;
        }

        .proposal-text {
            font-size: clamp(28px, 6vw, 56px);
            color: #fff;
            text-align: center;
            padding: 20px;
            text-shadow: 0 0 30px rgba(255,182,193,0.8), 0 0 50px rgba(255,105,180,0.5);
            letter-spacing: 2px;
            z-index: 10;
            margin-bottom: 40px;
            animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            10%, 30% { transform: scale(1.05); }
            20%, 40% { transform: scale(1); }
        }

        .choice-buttons {
            display: flex;
            gap: 30px;
            z-index: 10;
        }

        .yes-button, .no-button {
            padding: 20px 50px;
            font-size: clamp(20px, 4vw, 32px);
            color: #fff;
            border: 2px solid;
            border-radius: 50px;
            cursor: pointer;
            font-family: Georgia, serif;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        .yes-button {
            background: linear-gradient(135deg, rgba(50,205,50,0.4), rgba(144,238,144,0.4));
            border-color: rgba(50,205,50,0.8);
        }

        .yes-button:hover {
            background: linear-gradient(135deg, rgba(50,205,50,0.6), rgba(144,238,144,0.6));
            transform: scale(1.1);
        }

        .no-button {
            background: linear-gradient(135deg, rgba(255,99,71,0.4), rgba(255,160,122,0.4));
            border-color: rgba(255,99,71,0.8);
            position: relative;
        }

        .no-button:hover {
            background: linear-gradient(135deg, rgba(255,99,71,0.6), rgba(255,160,122,0.6));
        }

        .final-text {
            font-size: clamp(24px, 5vw, 48px);
            color: #fff;
            text-align: center;
            padding: 20px;
            text-shadow: 0 0 30px rgba(255,215,0,0.8), 0 0 50px rgba(255,182,193,0.5);
            letter-spacing: 2px;
            z-index: 10;
            animation: finalGlow 3s ease-in-out infinite;
        }

        @keyframes finalGlow {
            0%, 100% { text-shadow: 0 0 30px rgba(255,215,0,0.8), 0 0 50px rgba(255,182,193,0.5); }
            50% { text-shadow: 0 0 50px rgba(255,215,0,1), 0 0 80px rgba(255,182,193,0.8); }
        }

        .petal {
            position: absolute;
            width: 10px;
            height: 10px;
            background: radial-gradient(ellipse at center, #ff69b4 0%, #ffb6c1 50%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes petalFall {
            0% { 
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% { 
                opacity: 0;
                transform: translateY(100vh) rotate(720deg);
            }
        }

        @media (max-width: 768px) {
            .poem-line {
                font-size: 18px;
            }
            .choice-buttons {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Scene 1: Cosmic Intro -->
    <div class="scene active" id="scene1">
        <canvas id="starCanvas"></canvas>
        <div class="cosmic-text">This isn't a normal websiteâ€¦</div>
        <button class="glow-button" onclick="transitionToScene2()">tap me</button>
    </div>

    <!-- Scene 2: Tulip Field -->
    <div class="scene" id="scene2">
        <canvas id="tulipCanvas"></canvas>
        <button class="continue-button" onclick="startPoem()">Continue</button>
    </div>

    <!-- Scene 3: Poem -->
    <div class="scene" id="scene3">
        <canvas id="tulipCanvas2"></canvas>
        <div class="poem-container" id="poemContainer"></div>
        <button class="continue-button" id="poemContinue" style="opacity: 0;" onclick="showBouquetTransition()">One last thingâ€¦</button>
    </div>

    <!-- Scene 4: Bouquet -->
    <div class="scene" id="scene4">
        <canvas id="bouquetCanvas"></canvas>
        <div class="bouquet-container" id="bouquetContainer"></div>
        <button class="continue-button" onclick="showProposal()">Continue</button>
    </div>

    <!-- Scene 5: Proposal -->
    <div class="scene" id="scene5">
        <canvas id="proposalCanvas"></canvas>
        <div class="proposal-text">Will you be my universe? ðŸ’«</div>
        <div class="choice-buttons">
            <button class="yes-button" onclick="handleYes()">YES</button>
            <button class="no-button" id="noButton" onclick="handleNo()">NO</button>
        </div>
    </div>

    <!-- Scene 6: Final -->
    <div class="scene" id="scene6">
        <canvas id="finalCanvas"></canvas>
        <div class="final-text">You were always my favorite galaxy ðŸŒ™ðŸŒ·</div>
    </div>

    <script>
        let audioContext;
        let windGain, heartbeatOsc;
        let noClickCount = 0;

        function initAudio() {
            try {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                createWindAmbience();
                createHeartbeat();
            } catch (e) {
                console.log('Audio not supported');
            }
        }

        function createWindAmbience() {
            if (!audioContext) return;
            try {
                const bufferSize = audioContext.sampleRate * 2;
                const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
                const data = buffer.getChannelData(0);
                for (let i = 0; i < bufferSize; i++) {
                    data[i] = Math.random() * 0.1 - 0.05;
                }
                const noise = audioContext.createBufferSource();
                noise.buffer = buffer;
                noise.loop = true;
                const filter = audioContext.createBiquadFilter();
                filter.type = 'lowpass';
                filter.frequency.value = 400;
                windGain = audioContext.createGain();
                windGain.gain.value = 0.15;
                noise.connect(filter);
                filter.connect(windGain);
                windGain.connect(audioContext.destination);
                noise.start();
            } catch (e) {}
        }

        function createHeartbeat() {
            if (!audioContext) return;
            try {
                heartbeatOsc = audioContext.createOscillator();
                const heartGain = audioContext.createGain();
                heartbeatOsc.type = 'sine';
                heartbeatOsc.frequency.value = 60;
                heartGain.gain.value = 0;
                heartbeatOsc.connect(heartGain);
                heartGain.connect(audioContext.destination);
                heartbeatOsc.start();
                setInterval(() => {
                    if (heartGain.gain.value > 0) {
                        heartGain.gain.setValueAtTime(0.2, audioContext.currentTime);
                        heartGain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    }
                }, 1000);
            } catch (e) {}
        }

        function playWhoosh() {
            if (!audioContext) return;
            try {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(800, audioContext.currentTime);
                osc.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.3);
                gain.gain.setValueAtTime(0.3, audioContext.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                osc.connect(gain);
                gain.connect(audioContext.destination);
                osc.start();
                osc.stop(audioContext.currentTime + 0.3);
            } catch (e) {}
        }

        function playChime() {
            if (!audioContext) return;
            try {
                const freqs = [523.25, 659.25, 783.99, 1046.50];
                freqs.forEach((freq, i) => {
                    setTimeout(() => {
                        const osc = audioContext.createOscillator();
                        const gain = audioContext.createGain();
                        osc.type = 'sine';
                        osc.frequency.value = freq;
                        gain.gain.setValueAtTime(0.2, audioContext.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
                        osc.connect(gain);
                        gain.connect(audioContext.destination);
                        osc.start();
                        osc.stop(audioContext.currentTime + 1);
                    }, i * 150);
                });
            } catch (e) {}
        }

        // Star canvas animation
        function initStarCanvas() {
            const canvas = document.getElementById('starCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const stars = [];
            for (let i = 0; i < 200; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 2,
                    speed: Math.random() * 0.5 + 0.1,
                    opacity: Math.random()
                });
            }

            function animate() {
                ctx.fillStyle = 'rgba(0, 0, 10, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                stars.forEach(star => {
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                    ctx.fill();
                    
                    star.opacity += star.speed * 0.01;
                    if (star.opacity > 1 || star.opacity < 0) star.speed *= -1;
                });

                requestAnimationFrame(animate);
            }
            animate();
        }

        function transitionToScene2() {
            if (!audioContext) initAudio();
            playWhoosh();
            document.getElementById('scene1').classList.remove('active');
            setTimeout(() => {
                document.getElementById('scene2').classList.add('active');
                initTulipField('tulipCanvas');
            }, 500);
            setTimeout(() => {
                document.querySelector('#scene2 .continue-button').click();
            }, 8000);
        }

        class Tulip {
            constructor(x, y, scale, hue) {
                this.x = x;
                this.y = y;
                this.scale = scale;
                this.hue = hue;
                this.swayOffset = Math.random() * Math.PI * 2;
                this.bloomProgress = 0;
            }

            draw(ctx, time) {
                const sway = Math.sin(time * 0.001 + this.swayOffset) * 5 * this.scale;
                
                ctx.save();
                ctx.translate(this.x + sway, this.y);
                ctx.scale(this.scale, this.scale);

                // Stem
                ctx.strokeStyle = `hsl(120, 40%, 30%)`;
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.bezierCurveTo(-5, -30, 5, -60, 0, -90);
                ctx.stroke();

                // Petals
                ctx.translate(0, -90);
                const petalCount = 6;
                const petalRadius = 15 + this.bloomProgress * 5;
                
                for (let i = 0; i < petalCount; i++) {
                    const angle = (Math.PI * 2 * i) / petalCount;
                    ctx.save();
                    ctx.rotate(angle);
                    ctx.translate(0, -petalRadius);
                    
                    const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 20);
                    gradient.addColorStop(0, `hsl(${this.hue}, 80%, 60%)`);
                    gradient.addColorStop(0.5, `hsl(${this.hue}, 70%, 50%)`);
                    gradient.addColorStop(1, `hsl(${this.hue}, 60%, 40%)`);
                    
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.ellipse(0, 0, 12, 20, 0, 0, Math.PI * 2);
                    ctx.fill();
                    
                    ctx.strokeStyle = `hsl(${this.hue}, 50%, 35%)`;
                    ctx.lineWidth = 0.5;
                    ctx.stroke();
                    
                    ctx.restore();
                }

                // Center
                const centerGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 8);
                centerGradient.addColorStop(0, `hsl(50, 80%, 50%)`);
                centerGradient.addColorStop(1, `hsl(40, 70%, 40%)`);
                ctx.fillStyle = centerGradient;
                ctx.beginPath();
                ctx.arc(0, 0, 8, 0, Math.PI * 2);
                ctx.fill();

                ctx.restore();
            }

            bloom() {
                if (this.bloomProgress < 1) {
                    this.bloomProgress += 0.02;
                }
            }
        }

        let tulips = [];
        let tulipAnimationId;

        function initTulipField(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            tulips = [];
            const rows = 5;
            const cols = 8;
            
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const x = (canvas.width / (cols + 1)) * (col + 1) + (Math.random() - 0.5) * 50;
                    const y = canvas.height * 0.4 + (row * 80) + (Math.random() - 0.5) * 30;
                    const scale = 0.8 + (row * 0.15) + Math.random() * 0.2;
                    const hue = 340 + Math.random() * 20;
                    tulips.push(new Tulip(x, y, scale, hue));
                }
            }

            function animate() {
                const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                gradient.addColorStop(0, '#1a0a2e');
                gradient.addColorStop(0.5, '#2d1b4e');
                gradient.addColorStop(1, '#16213e');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                const time = Date.now();
                tulips.forEach(tulip => tulip.draw(ctx, time));

                tulipAnimationId = requestAnimationFrame(animate);
            }
            animate();
        }

        const poemLines = [
            "Sometimes I think I fell for you",
            "before I even learned how falling works.",
            "My words trip over themselves..",
            "And as I said earlier.. you're like a Luminous Singularity",
            "which's parallel yet coincidently intersecting...",
            "Like constellations shuffled in a hurry...",
            "Orion losing its belt..",
            "Cassiopeia sitting upside down..",
            "and whole sky is asking \"Why is she the only one shining this bright?\"",
            "And I swear ...",
            "every time i try to explain what you mean to me.. I fumble..I'm scared...",
            "and my heart chooses Your tulips instead of sentences",
            "petals arranged in a wrong order.. yet beautiful..",
            "Colors mixing where they shouldn't yet somehow looking eternal..",
            "and it's strange how You make the universe feel like a misprinted bouquet..",
            "Galaxies scribbled over with your name..",
            "planets orbiting a little too close..",
            "a pull like the Black hole..",
            "Like they too forgot their distance.",
            "And me? I'm jst a boy holding a bouquet thinking maybe if I say it wrong enough times",
            "you Might hear the truth hidden between the mistakes",
            "That in every star's cold shimmer and every tulip's quite softness",
            "i keep finding you",
            "not perfectly..",
            "not clearly",
            "but completely..."
        ];

        let currentLine = 0;

        function startPoem() {
            document.getElementById('scene2').classList.remove('active');
            setTimeout(() => {
                document.getElementById('scene3').classList.add('active');
                initTulipField('tulipCanvas2');
                displayNextLine();
            }, 500);
        }

        function displayNextLine() {
            if (currentLine >= poemLines.length) {
                setTimeout(() => {
                    document.getElementById('poemContinue').style.opacity = '1';
                    document.getElementById('poemContinue').style.pointerEvents = 'all';
                }, 1000);
                setTimeout(() => {
                    document.getElementById('poemContinue').click();
                }, 9000);
                return;
            }

            const line = document.createElement('div');
            line.className = 'poem-line';
            line.textContent = poemLines[currentLine];
            document.getElementById('poemContainer').appendChild(line);
            
            setTimeout(() => {
                line.classList.add('visible');
                playWhoosh();
                
                if (tulips.length > 0) {
                    const randomTulip = tulips[Math.floor(Math.random() * tulips.length)];
                    randomTulip.bloom();
                }
            }, 100);

            currentLine++;
            setTimeout(displayNextLine, 2500);
        }

        function showBouquetTransition() {
            playWhoosh();
            document.getElementById('scene3').classList.remove('active');
            setTimeout(() => {
                document.getElementById('scene4').classList.add('active');
                createBouquet();
            }, 500);
            setTimeout(() => {
                document.querySelector('#scene4 .continue-button').click();
            }, 8000);
        }

        function createBouquet() {
            const canvas = document.getElementById('bouquetCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#0f0c29');
            gradient.addColorStop(0.5, '#302b63');
            gradient.addColorStop(1, '#24243e');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Ribbon
            ctx.fillStyle = 'rgba(255, 182, 193, 0.8)';
            ctx.beginPath();
            ctx.ellipse(centerX, centerY + 50, 80, 30, 0, 0, Math.PI * 2);
            ctx.fill();

            // Bouquet tulips
            const bouquetTulips = [];
            for (let i = 0; i < 7; i++) {
                const angle = (Math.PI * 2 * i) / 7;
                const radius = 60;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY - 50 + Math.sin(angle) * radius;
                const hue = 340 + Math.random() * 20;
                bouquetTulips.push(new Tulip(x, y, 1.2, hue));
            }

            function animate() {
                const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
                gradient.addColorStop(0, '#0f0c29');
                gradient.addColorStop(0.5, '#302b63');
                gradient.addColorStop(1, '#24243e');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = 'rgba(255, 182, 193, 0.8)';
                ctx.beginPath();
                ctx.ellipse(centerX, centerY + 50, 80, 30, 0, 0, Math.PI * 2);
                ctx.fill();

                const time = Date.now();
                bouquetTulips.forEach(tulip => {
                    tulip.bloomProgress = 1;
                    tulip.draw(ctx, time);
                });

                requestAnimationFrame(animate);
            }
            animate();
        }

        function showProposal() {
            playWhoosh();
            document.getElementById('scene4').classList.remove('active');
            setTimeout(() => {
                document.getElementById('scene5').classList.add('active');
                initProposalCanvas();
            }, 500);
        }

        function initProposalCanvas() {
            const canvas = document.getElementById('proposalCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            function animate() {
                const gradient = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, canvas.width/2);
                gradient.addColorStop(0, '#1a0a2e');
                gradient.addColorStop(1, '#0a0010');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                // Stars
                for (let i = 0; i < 100; i++) {
                    ctx.fillStyle = `rgba(255, 255, 255, ${Math.random()})`;
                    ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 2, 2);
                }

                requestAnimationFrame(animate);
            }
            animate();
        }

        function handleNo() {
            noClickCount++;
            const btn = document.getElementById('noButton');
            
            if (noClickCount === 1) {
                btn.style.transform = 'translate(100px, -50px)';
            } else if (noClickCount === 2) {
                btn.style.transform = 'translate(-100px, 50px)';
            } else {
                btn.style.display = 'none';
            }
        }

        function handleYes() {
            playChime();
            createFallingPetals();
            
            setTimeout(() => {
                document.getElementById('scene5').classList.remove('active');
                setTimeout(() => {
                    document.getElementById('scene6').classList.add('active');
                    initFinalCanvas();
                }, 500);
            }, 3000);
        }

        function createFallingPetals() {
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const petal = document.createElement('div');
                    petal.className = 'petal';
                  petal.style.left = Math.random() * 100 + '%';
petal.style.animationDuration = (Math.random() * 3 + 3) + 's';
petal.style.animationDelay = '0s';
petal.style.animation = 'petalFall linear forwards';
document.body.appendChild(petal);
                setTimeout(() => petal.remove(), 6000);
            }, i * 100);
        }
    }

    function initFinalCanvas() {
        const canvas = document.getElementById('finalCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        function animate() {
            const gradient = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 0, canvas.width/2, canvas.height/2, canvas.width);
            gradient.addColorStop(0, '#2d1b4e');
            gradient.addColorStop(0.5, '#1a0a2e');
            gradient.addColorStop(1, '#0a0010');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Sparkles
            for (let i = 0; i < 150; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const size = Math.random() * 3;
                const opacity = Math.random();
                
                ctx.fillStyle = `rgba(255, 215, 0, ${opacity})`;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }

            requestAnimationFrame(animate);
        }
        animate();
    }

    // Initialize
    window.addEventListener('load', () => {
        initStarCanvas();
    });

    window.addEventListener('resize', () => {
        const canvases = document.querySelectorAll('canvas');
        canvases.forEach(canvas => {
            if (canvas.getContext) {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
        });
    });
</script>
</body>
</html>
