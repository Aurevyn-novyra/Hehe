<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Special Message</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: #0a0a0a;
  font-family: Georgia, serif;
  color: #fff;
  position: relative;
}

.scene {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

.scene.active {
  display: flex;
}

canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.cosmic-text {
  font-size: clamp(1.5rem, 5vw, 3rem);
  text-align: center;
  z-index: 10;
  opacity: 0;
  animation: fadeInLetters 3s forwards;
  text-shadow: 0 0 20px rgba(255, 182, 193, 0.5);
  margin-bottom: 3rem;
  padding: 0 1rem;
}

@keyframes fadeInLetters {
  to { opacity: 1; }
}

.pulse-button {
  padding: 1.2rem 3rem;
  font-size: 1.3rem;
  background: linear-gradient(135deg, #ff69b4, #ff1493);
  border: none;
  border-radius: 50px;
  color: white;
  cursor: pointer;
  z-index: 10;
  animation: pulse 2s infinite;
  box-shadow: 0 0 30px rgba(255, 105, 180, 0.6);
  min-height: 54px;
  font-weight: bold;
  letter-spacing: 1px;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); box-shadow: 0 0 30px rgba(255, 105, 180, 0.6); }
  50% { transform: scale(1.05); box-shadow: 0 0 50px rgba(255, 105, 180, 0.9); }
}

.pulse-button:hover {
  transform: scale(1.08);
}

.tulip-container {
  position: relative;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, #1a0a2e 0%, #0f3443 50%, #2d5016 100%);
}

.tulip {
  position: absolute;
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.continue-button, .next-button {
  padding: 1rem 2.5rem;
  font-size: 1.2rem;
  background: linear-gradient(135deg, #9d50bb, #6e48aa);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50px;
  color: white;
  cursor: pointer;
  z-index: 100;
  box-shadow: 0 0 30px rgba(157, 80, 187, 0.5);
  opacity: 0;
  animation: fadeIn 2s 1s forwards;
  min-height: 54px;
  font-weight: bold;
  position: absolute;
  bottom: 3rem;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

.continue-button:hover, .next-button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 40px rgba(157, 80, 187, 0.8);
}

.poem-container {
  position: relative;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at center, #1a0a2e 0%, #0a0a0a 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow-y: auto;
}

.poem-text {
  max-width: 90%;
  width: 600px;
  text-align: center;
  font-size: clamp(1rem, 3vw, 1.4rem);
  line-height: 1.8;
  color: #ffd1dc;
  z-index: 10;
  padding: 2rem;
}

.poem-line {
  opacity: 0;
  margin: 1rem 0;
}

.bouquet-scene {
  background: radial-gradient(ellipse at center, #2d1b3d 0%, #0a0a0a 100%);
}

.bouquet {
  position: relative;
  transform: scale(0);
  animation: bouquetForm 2s forwards;
}

@keyframes bouquetForm {
  to { transform: scale(1); }
}

.proposal-text {
  font-size: clamp(2rem, 6vw, 4rem);
  text-align: center;
  margin-bottom: 3rem;
  background: linear-gradient(135deg, #ff69b4, #ffd700);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: glow 2s infinite alternate;
  padding: 0 1rem;
}

@keyframes glow {
  from { filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.5)); }
  to { filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8)); }
}

.button-container {
  display: flex;
  gap: 2rem;
  z-index: 10;
  flex-wrap: wrap;
  justify-content: center;
  padding: 0 1rem;
}

.choice-button {
  padding: 1.2rem 3rem;
  font-size: 1.3rem;
  border: none;
  border-radius: 50px;
  cursor: pointer;
  min-height: 54px;
  font-weight: bold;
  letter-spacing: 1px;
  transition: all 0.3s;
}

.yes-button {
  background: linear-gradient(135deg, #00ff87, #60efff);
  color: #0a0a0a;
  box-shadow: 0 0 30px rgba(0, 255, 135, 0.6);
}

.yes-button:hover {
  transform: scale(1.1);
  box-shadow: 0 0 50px rgba(0, 255, 135, 0.9);
}

.no-button {
  background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
  color: white;
  box-shadow: 0 0 30px rgba(255, 107, 107, 0.6);
}

.petal-rain {
  position: absolute;
  width: 20px;
  height: 20px;
  background: radial-gradient(ellipse, #ffb6c1, #ff69b4);
  border-radius: 50% 0 50% 0;
  opacity: 0.8;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

.celebration-text {
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  text-align: center;
  color: #ffd700;
  animation: celebrationPulse 1s infinite;
  padding: 0 1rem;
}

@keyframes celebrationPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.replay-button {
  position: absolute;
  bottom: 1rem;
  padding: 0.8rem 2rem;
  font-size: 1rem;
  background: rgba(157, 80, 187, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 30px;
  color: white;
  cursor: pointer;
  min-height: 44px;
  z-index: 100;
}

.replay-button:hover {
  background: rgba(157, 80, 187, 0.8);
}

@media (max-width: 768px) {
  .cosmic-text { font-size: 1.5rem; }
  .pulse-button { padding: 1rem 2rem; font-size: 1.1rem; }
  .poem-text { font-size: 1.1rem; padding: 1rem; }
  .button-container { gap: 1rem; }
  .choice-button { padding: 1rem 2rem; font-size: 1.1rem; }
}
</style>
</head>
<body>

<div class="scene active" id="scene1">
  <canvas id="stars"></canvas>
  <div class="cosmic-text">This isn't a normal websiteâ€¦</div>
  <button class="pulse-button" id="tapButton">TAP ME</button>
</div>

<div class="scene" id="scene2">
  <div class="tulip-container" id="tulipField"></div>
  <button class="continue-button" id="continueButton">Continue</button>
</div>

<div class="scene" id="scene3">
  <div class="poem-container">
    <div class="poem-text" id="poemText"></div>
  </div>
  <button class="replay-button" id="replayButton" style="display:none;">Replay Poem</button>
</div>

<div class="scene" id="scene4">
  <canvas id="breathingBg"></canvas>
  <button class="next-button" id="lastThingButton">One last thingâ€¦</button>
</div>

<div class="scene bouquet-scene" id="scene5">
  <div class="bouquet" id="bouquet"></div>
</div>

<div class="scene" id="scene6">
  <canvas id="finalBg"></canvas>
  <div class="proposal-text">Will you be my universe? ðŸ’«</div>
  <div class="button-container">
    <button class="choice-button yes-button" id="yesButton">YES</button>
    <button class="choice-button no-button" id="noButton">NO</button>
  </div>
</div>

<div class="scene" id="celebration" style="background: radial-gradient(circle, #2d1b3d, #0a0a0a);">
  <div class="celebration-text">You've made me the happiest! ðŸ’–âœ¨</div>
</div>

<script>
const scenes = {
  current: 1,
  total: 6
};

const audioContext = new (window.AudioContext || window.webkitAudioContext)();
let masterGain = audioContext.createGain();
masterGain.gain.value = 0.3;
masterGain.connect(audioContext.destination);

function playTone(freq, duration, type = 'sine', volume = 0.1) {
  try {
    const osc = audioContext.createOscillator();
    const gain = audioContext.createGain();
    osc.type = type;
    osc.frequency.value = freq;
    gain.gain.value = volume;
    osc.connect(gain);
    gain.connect(masterGain);
    osc.start();
    gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
    osc.stop(audioContext.currentTime + duration);
  } catch(e) {}
}

function playHeartbeat(tempo = 60) {
  try {
    const interval = (60 / tempo) * 1000;
    setInterval(() => {
      playTone(80, 0.1, 'sine', 0.05);
      setTimeout(() => playTone(70, 0.1, 'sine', 0.05), 100);
    }, interval);
  } catch(e) {}
}

function playAmbientDrone() {
  try {
    const osc1 = audioContext.createOscillator();
    const osc2 = audioContext.createOscillator();
    const gain = audioContext.createGain();
    osc1.type = 'sine';
    osc2.type = 'sine';
    osc1.frequency.value = 55;
    osc2.frequency.value = 110;
    gain.gain.value = 0.03;
    osc1.connect(gain);
    osc2.connect(gain);
    gain.connect(masterGain);
    osc1.start();
    osc2.start();
  } catch(e) {}
}

function playWindGust() {
  try {
    const duration = 2;
    const bufferSize = audioContext.sampleRate * duration;
    const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
    const data = buffer.getChannelData(0);
    for (let i = 0; i < bufferSize; i++) {
      data[i] = (Math.random() * 2 - 1) * 0.02;
    }
    const source = audioContext.createBufferSource();
    const filter = audioContext.createBiquadFilter();
    filter.type = 'lowpass';
    filter.frequency.value = 800;
    source.buffer = buffer;
    source.connect(filter);
    filter.connect(masterGain);
    source.start();
  } catch(e) {}
}

function playChime() {
  playTone(1047, 0.5, 'sine', 0.08);
  setTimeout(() => playTone(1319, 0.5, 'sine', 0.06), 100);
}

function playWhoosh() {
  try {
    const osc = audioContext.createOscillator();
    const gain = audioContext.createGain();
    osc.type = 'sine';
    osc.frequency.setValueAtTime(800, audioContext.currentTime);
    osc.frequency.exponentialRampToValueAtTime(200, audioContext.currentTime + 0.3);
    gain.gain.value = 0.05;
    osc.connect(gain);
    gain.connect(masterGain);
    osc.start();
    osc.stop(audioContext.currentTime + 0.3);
  } catch(e) {}
}

function playSparkle() {
  playTone(2093, 0.2, 'sine', 0.03);
  setTimeout(() => playTone(2637, 0.15, 'sine', 0.02), 50);
}

function playRomanticChime() {
  const notes = [523, 659, 784, 1047];
  notes.forEach((note, i) => {
    setTimeout(() => playTone(note, 0.8, 'sine', 0.06), i * 200);
  });
}

function switchScene(sceneNum) {
  try {
    document.querySelectorAll('.scene').forEach(s => s.classList.remove('active'));
    document.getElementById('scene' + sceneNum).classList.add('active');
    scenes.current = sceneNum;
  } catch(e) {}
}

// Scene 1: Cosmic Intro
const starsCanvas = document.getElementById('stars');
const starsCtx = starsCanvas.getContext('2d');
starsCanvas.width = window.innerWidth;
starsCanvas.height = window.innerHeight;

const stars = [];
for (let i = 0; i < 200; i++) {
  stars.push({
    x: Math.random() * starsCanvas.width,
    y: Math.random() * starsCanvas.height,
    radius: Math.random() * 2,
    speed: Math.random() * 0.5
  });
}

function animateStars() {
  try {
    starsCtx.fillStyle = 'rgba(10, 10, 10, 0.1)';
    starsCtx.fillRect(0, 0, starsCanvas.width, starsCanvas.height);
    
    stars.forEach(star => {
      starsCtx.fillStyle = 'rgba(255, 255, 255, ' + (Math.random() * 0.5 + 0.5) + ')';
      starsCtx.beginPath();
      starsCtx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
      starsCtx.fill();
      
      star.y += star.speed;
      if (star.y > starsCanvas.height) {
        star.y = 0;
        star.x = Math.random() * starsCanvas.width;
      }
    });
    
    if (scenes.current === 1) {
      requestAnimationFrame(animateStars);
    }
  } catch(e) {}
}

animateStars();
playAmbientDrone();
setTimeout(playWindGust, 1000);
playHeartbeat(60);

document.getElementById('tapButton').addEventListener('click', function() {
  try {
    this.style.animation = 'none';
    this.style.transform = 'scale(0)';
    this.style.opacity = '0';
    playWhoosh();
    setTimeout(() => {
      switchScene(2);
      createTulips();
    }, 500);
  } catch(e) {}
});

// Scene 2: Tulip Field
function createTulips() {
  try {
    const container = document.getElementById('tulipField');
    const numTulips = window.innerWidth > 768 ? 40 : 25;
    
    for (let i = 0; i < numTulips; i++) {
      const tulip = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      tulip.setAttribute('class', 'tulip');
      tulip.setAttribute('width', '60');
      tulip.setAttribute('height', '120');
      tulip.style.left = Math.random() * 90 + 5 + '%';
      tulip.style.bottom = Math.random() * 40 + '%';
      tulip.style.opacity = Math.random() * 0.4 + 0.6;
      
      const colors = ['#ff69b4', '#ff1493', '#ff85c1', '#ff6bb5', '#db7093'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      
      tulip.innerHTML = `
        <defs>
          <radialGradient id="petal${i}">
            <stop offset="0%" style="stop-color:${color};stop-opacity:1" />
            <stop offset="100%" style="stop-color:#8b0a50;stop-opacity:1" />
          </radialGradient>
        </defs>
        <path d="M30 80 Q20 60 25 40 Q30 30 30 20 Q30 30 35 40 Q40 60 30 80" fill="url(#petal${i})" />
        <path d="M30 80 Q40 60 35 40 Q30 30 30 20 Q30 30 25 40 Q20 60 30 80" fill="url(#petal${i})" opacity="0.8" />
        <ellipse cx="30" cy="25" rx="8" ry="12" fill="url(#petal${i})" />
        <line x1="30" y1="80" x2="30" y2="115" stroke="#2d5016" stroke-width="3" />
        <path d="M30 95 Q20 90 15 95" stroke="#2d5016" stroke-width="2" fill="none" />
      `;
      
      container.appendChild(tulip);
      
      const delay = Math.random() * 2;
      const duration = 3 + Math.random() * 2;
      tulip.style.animation = `sway ${duration}s ease-in-out ${delay}s infinite`;
    }
    
    const style = document.createElement('style');
    style.textContent = `
      @keyframes sway {
        0%, 100% { transform: rotate(-3deg) translateX(-5px); }
        50% { transform: rotate(3deg) translateX(5px); }
      }
    `;
    document.head.appendChild(style);
    
    playWindGust();
  } catch(e) {}
}

document.getElementById('continueButton').addEventListener('click', function() {
  playWhoosh();
  switchScene(3);
  setTimeout(showPoem, 500);
});

// Scene 3: Poem
const poemLines = [
  "Sometimes I think I fell for you",
  "before I even learned how falling works.",
  "My words trip over themselves..",
  "And as I said earlier.. you're like a Luminous Singularity",
  "which's parallel yet coincidently intersecting...",
  "Like constellations shuffled in a hurry...",
  "Orion losing its belt..",
  "Cassiopeia sitting upside down..",
  "and whole sky is asking \"Why is she the only one shining this bright?\"",
  "And I swear ...",
  "every time i try to explain what you mean to me.. I fumble..I'm scared...",
  "and my heart chooses Your tulips instead of sentences",
  "petals arranged in a wrong order.. yet beautiful..",
  "Colors mixing where they shouldn't yet somehow looking eternal..",
  "and it's strange how You make the universe feel like a misprinted bouquet..",
  "Galaxies scribbled over with your name..",
  "planets orbiting a little too close..",
  "a pull like the Black hole..",
  "Like they too forgot their distance.",
  "And me? I'm jst a boy holding a bouquet thinking maybe if I say it wrong enough times",
  "you Might hear the truth hidden between the mistakes",
  "That in every star's cold shimmer and every tulip's quite softness",
  "i keep finding you",
  "not perfectly..",
  "not clearly",
  "but completely..."
];

let poemIndex = 0;

function showPoem() {
  try {
    const poemText = document.getElementById('poemText');
    poemText.innerHTML = '';
    poemIndex = 0;
    displayNextPoemPair();
  } catch(e) {}
}

function displayNextPoemPair() {
  try {
    const poemText = document.getElementById('poemText');
    
    if (poemIndex >= poemLines.length) {
      setTimeout(() => {
        document.getElementById('replayButton').style.display = 'block';
        setTimeout(() => {
          switchScene(4);
        }, 2000);
      }, 2000);
      return;
    }
    
    playWhoosh();
    playChime();
    
    const line1 = document.createElement('div');
    line1.className = 'poem-line';
    line1.textContent = poemLines[poemIndex];
    poemText.appendChild(line1);
    
    setTimeout(() => {
      line1.style.animation = 'fadeIn 1s forwards';
    }, 50);
    
    if (poemIndex + 1 < poemLines.length) {
      const line2 = document.createElement('div');
      line2.className = 'poem-line';
      line2.textContent = poemLines[poemIndex + 1];
      poemText.appendChild(line2);
      
      setTimeout(() => {
        line2.style.animation = 'fadeIn 1s forwards';
      }, 600);
    }
    
    poemIndex += 2;
    
    setTimeout(displayNextPoemPair, 2000);
  } catch(e) {}
}

document.getElementById('replayButton').addEventListener('click', function() {
  this.style.display = 'none';
  showPoem();
});

// Scene 4: Emotional Buildup
document.getElementById('lastThingButton').addEventListener('click', function() {
  playWhoosh();
  playTone(392, 1, 'sine', 0.1);
  switchScene(5);
  setTimeout(createBouquet, 500);
});

// Scene 5: Bouquet Formation
function createBouquet() {
  try {
    const bouquet = document.getElementById('bouquet');
    bouquet.innerHTML = '';
    
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('width', '300');
    svg.setAttribute('height', '400');
    
    for (let i = 0; i < 12; i++) {
      const angle = (i / 12) * Math.PI * 2;
      const x = 150 + Math.cos(angle) * 60;
      const y = 150 + Math.sin(angle) * 40 - i * 5;
      
      const color = ['#ff69b4', '#ff1493', '#ff85c1'][i % 3];
      
      const tulipGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
      tulipGroup.innerHTML = `
        <path d="M${x} ${y + 60} L${x} ${y + 150}" stroke="#2d5016" stroke-width="3" fill="none" />
        <ellipse cx="${x}" cy="${y + 30}" rx="15" ry="25" fill="${color}" />
        <ellipse cx="${x}" cy="${y + 30}" rx="10" ry="20" fill="${color}" opacity="0.7" />
      `;
      svg.appendChild(tulipGroup);
      
      playSparkle();
    }
    
    const ribbon = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    ribbon.setAttribute('d', 'M100 280 Q150 270 200 280 Q150 290 100 280');
    ribbon.setAttribute('fill', 'none');
    ribbon.setAttribute('stroke', '#ffd700');
    ribbon.setAttribute('stroke-width', '8');
    svg.appendChild(ribbon);
    
    bouquet.appendChild(svg);
    
    setTimeout(() => {
      switchScene(6);
      playHeartbeat(75);
    }, 2500);
  } catch(e) {}
}

// Scene 6: Proposal
let noDodgeCount = 0;

document.getElementById('yesButton').addEventListener('click', function() {
  playRomanticChime();
  switchScene('celebration');
  createPetalRain();
});

document.getElementById('noButton').addEventListener('mouseover', function() {
  if (noDodgeCount < 2) {
    const randomX = Math.random() * (window.innerWidth - 200);
    const randomY = Math.random() * (window.innerHeight - 200);
    this.style.position = 'fixed';
    this.style.left = randomX + 'px';
    this.style.top = randomY + 'px';
    playTone(600, 0.1, 'square', 0.05);
    noDodgeCount++;
  }
});

document.getElementById('noButton').addEventListener('click', function() {
  if (noDodgeCount >= 2) {
    alert('Are you sure? ðŸ¥º');
  }
});

function createPetalRain() {
  try {
    const celebration = document.getElementById('celebration');
    for (let i = 0; i < 50; i++) {
      setTimeout(() => {
        const petal = document.createElement('div');
        petal.className = 'petal-rain';
        petal.style.left = Math.random() * 100 + '%';
        petal.style.top = '-20px';
        petal.style.animationDuration = (Math.random() * 3 + 2) + 's';
        celebration.appendChild(petal);
        
        setTimeout(() => petal.remove(), 5000);
      }, i * 100);
    }
  } catch(e) {}
}

window.addEventListener('resize', () => {
  if (starsCanvas) {
    starsCanvas.width = window.innerWidth;
    starsCanvas.height = window.innerHeight;
  }
});

setTimeout(() => {
  if (scenes.current === 2) {
    document.getElementById('continueButton').click();
  }
}, 10000);
</script>
</body>
</html>
